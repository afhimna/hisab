<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hisab Jumali • AFHIMNA</title>

<link href="https://fonts.googleapis.com/css2?family=Amiri&display=swap" rel="stylesheet">

<style>
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
*::selection{background:transparent}

body{
    margin:0;
    min-height:100vh;
    padding:16px;
    display:flex;
    justify-content:center;
    align-items:center;
    background:radial-gradient(circle at top,#1f2933,#0b0f14 70%);
    color:#fff;
}

.wrapper{width:100%;max-width:420px}

/* ===== KALKULATOR ===== */
.container{
    font-family:'Amiri',serif;
    padding:28px 26px;
    text-align:center;
    border-radius:20px;
    background:rgba(30,30,30,.75);
    backdrop-filter:blur(14px);
    box-shadow:0 20px 50px rgba(0,0,0,.5);
    transform:scale(.95);
    opacity:0;
    transition:
        opacity .6s cubic-bezier(.22,.61,.36,1),
        transform .6s cubic-bezier(.22,.61,.36,1);
}
.container.show{opacity:1;transform:scale(1)}

h2{
    margin:0 0 22px;
    font-size:28px;
    color:#00e676;
    text-shadow:0 0 6px rgba(0,230,118,.7);
}

/* ===== INPUT (IKUT ANIMASI) ===== */
input{
    width:100%;
    font-family:'Amiri',serif;
    padding:15px;
    font-size:22px;
    border-radius:14px;
    border:none;
    outline:none;
    background:#2a2a2a;
    color:#fff;
    direction:rtl;
    text-align:center;
}
input::placeholder{color:#aaa}

/* ===== BUTTON ===== */
.button-group{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:12px;
    margin-top:18px;
}

button{
    padding:14px;
    font-size:17px;
    font-weight:bold;
    border:none;
    border-radius:14px;
    cursor:pointer;
    transition:.25s ease;
}

.btn-calc{
    background:linear-gradient(135deg,#00e676,#00c853);
    color:#000;
}
.btn-calc:hover{
    transform:translateY(-2px) scale(1.03);
    box-shadow:0 0 22px rgba(0,230,118,.6);
}

.btn-clear{
    background:#2f2f2f;
    color:#fff;
}
.btn-clear:hover{background:#3a3a3a}

/* ===== RESULT ===== */
.result{
    margin-top:22px;
    font-size:22px;
    font-weight:bold;
    color:#00e676;
    text-shadow:0 0 6px rgba(0,230,118,.5);
}

/* ===== EXPLANATION ===== */
.explanation{
    margin-top:18px;
    display:grid;
    grid-template-columns:repeat(5,1fr);
    gap:10px;
    direction:rtl;
}

.cell{
    background:#1f1f1f;
    border-radius:12px;
    padding:10px 6px;
    opacity:0;
    transform:translateY(14px);
    animation:cellIn .6s cubic-bezier(.22,.61,.36,1) forwards;
}
.cell span{display:block;font-size:20px;color:#00e676}
.cell small{font-size:14px;color:#ccc}

@keyframes cellIn{
    to{opacity:1;transform:none}
}

/* ===== REAPPEAR (SEMUA ITEM TERMASUK INPUT) ===== */
.re-item{opacity:1;transform:none}

.container.reappear .re-item{
    opacity:0;
    transform:translateY(10px);
}

.container.reappear.show .re-item{
    opacity:1;
    transform:none;
    transition:
        opacity .55s cubic-bezier(.22,.61,.36,1),
        transform .55s cubic-bezier(.22,.61,.36,1);
}

/* stagger halus */
.container.reappear.show .re-item:nth-of-type(1){transition-delay:.05s}
.container.reappear.show .re-item:nth-of-type(2){transition-delay:.12s}
.container.reappear.show .re-item:nth-of-type(3){transition-delay:.18s}
.container.reappear.show .re-item:nth-of-type(4){transition-delay:.24s}
.container.reappear.show .re-item:nth-of-type(5){transition-delay:.30s}

@media(max-width:360px){
    .explanation{grid-template-columns:repeat(4,1fr)}
}

/* ===== SOWAR / SOCIAL ===== */
.social-container{
  margin-top:26px;
  text-align:center;
}

.social-container p{
  font-size:13px;
  color:#bbb;
  margin-bottom:14px;
}

.social-icons{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:24px;
}

.social-icons a{
  display:block;
  outline:none;
  text-decoration:none;
}

.social-icon{
  width:52px;
  height:52px;
  padding:6px;
  border-radius:14px;
  background:rgba(255,255,255,.03);
  opacity:.85;
  transition:.35s ease;
  display:block; /* FIX GITHUB PAGES */
}

.social-icon:hover{
  transform:scale(1.18) translateY(-4px);
  opacity:1;
  filter:brightness(1.15);
}

.social-icon.ig:hover{
  box-shadow:0 0 12px rgba(225,48,108,.8),0 0 25px rgba(253,29,29,.6);
}
.social-icon.wa:hover{
  box-shadow:0 0 12px rgba(37,211,102,.8),0 0 25px rgba(37,211,102,.6);
}

.support-text{
  margin-top:18px;
  font-size:13px;
  color:#ccc;
}
.support-text a{
  color:#00e676;
  font-weight:600;
  text-decoration:none;
}

.copyright{
  margin-top:10px;
  font-size:11px;
  letter-spacing:.6px;
  color:rgba(255,255,255,.35);
}
</style>
</head>

<body>

<div class="wrapper">

<div class="container show" id="calculator">

    <h2 class="re-item">Hisab Jumali</h2>

    <input id="inputText" class="re-item" type="text" placeholder="اكتب هنا">

    <div class="button-group re-item">
        <button class="btn-calc" onclick="calculate()">Hitung</button>
        <button class="btn-clear" onclick="clearAll()">Hapus</button>
    </div>

    <div class="result re-item" id="result"></div>
    <div class="explanation re-item" id="explanation"></div>

</div>

<div class="social-container">
    <p>Info lebih lanjut, hubungi kami:</p>
    <div class="social-icons">
        <a href="https://www.instagram.com/umarhamdan_a/" target="_blank">
            <img src="https://res.cloudinary.com/dmecuyazc/image/upload/v1766738130/ig_nhlx8u.png" class="social-icon ig">
        </a>
        <a href="https://wa.me/62859106771139" target="_blank">
            <img src="https://res.cloudinary.com/dmecuyazc/image/upload/v1766738128/wa_qpuube.png" class="social-icon wa">
        </a>
    </div>
    <div class="support-text">
        Berkenan mendukung kami? Silakan klik
        <a href="https://afhimna.github.io/share" target="_blank">di sini</a>.
    </div>
    <div class="copyright">
        © 2025 Afhimna Dev. All Rights Reserved.
    </div>
</div>

</div>

<script>
const abjadValues={
 'أ':1,'ا':1,'ء':1,'إ':1,'ؤ':1,'ئ':1,'ى':1,
 'ب':2,'ج':3,'د':4,'ه':5,'و':6,'ز':7,'ح':8,'ط':9,'ي':10,
 'ك':20,'ل':30,'م':40,'ن':50,'س':60,'ع':70,'ف':80,'ص':90,'ق':100,
 'ر':200,'ش':300,'ت':400,'ة':400,'ث':500,'خ':600,'ذ':700,
 'ض':800,'ظ':900,'غ':1000
};

function normalizeArabic(t){
    return t.replace(/[\u064B-\u065F]/g,'');
}

function animateNumber(el,target){
    let n=0,step=target/60;
    const timer=setInterval(()=>{
        n+=step;
        if(n>=target){n=target;clearInterval(timer)}
        el.textContent=`النتيجة: ${Math.floor(n)}`;
    },16);
}

function calculate(){
    let input=normalizeArabic(inputText.value.trim());
    let sum=0;
    explanation.innerHTML="";
    result.textContent="";
    [...input].forEach((c,i)=>{
        if(abjadValues[c]){
            sum+=abjadValues[c];
            const cell=document.createElement("div");
            cell.className="cell";
            cell.style.animationDelay=`${i*100}ms`;
            cell.innerHTML=`<span>${c}</span><small>${abjadValues[c]}</small>`;
            explanation.appendChild(cell);
        }
    });
    sum>0 ? animateNumber(result,sum) : result.textContent="❌ tidak ada hasil";
}

function triggerReappear(){
    const box=document.getElementById("calculator");
    box.classList.remove("show");
    box.classList.add("reappear");
    requestAnimationFrame(()=>box.classList.add("show"));
}

function clearAll(){
    inputText.value="";
    result.textContent="";
    explanation.innerHTML="";
    triggerReappear();
}

inputText.addEventListener("keydown",e=>{
    if(e.key==="Enter") calculate();
});
</script>

</body>
</html>